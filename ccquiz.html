<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <title>Quiz! - Test your knowledge</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
    <style media="screen">
      body {
        background-color: #8CD8FF;
      }

      .con {
        background-color: white;
        padding: 20px;
        margin: 20pt;
        border-radius: 25px;
      }

      #ans {
        display: none;
      }

      #next {
        background-color: white;
        border-radius: 10pt;
        border: 2pt solid black;
        font-size: 150%;
      }

      #qst {
        font-size: 125%;
      }

      #ans1, #ans2, #ans3, #ans4 {
        background-color: white;
        border-radius: 5pt;
        border: 1pt solid black;
        font-size: 125%;
        margin: 5px;
      }
    </style>
  </head>
  <body>
    <div class="con">
      <h1 id="title">New Years Quiz!</h1>
      <p id="qst">Would you like to start the quiz?</p>
      <table id="ans">
        <tr>
          <td><button id="ans1" onclick="clicked(1);"></button></td>
          <td><button id="ans2" onclick="clicked(2);"></button></td>
        </tr>
        <tr>
          <td><button id="ans3" onclick="clicked(3);"></button></td>
          <td><button id="ans4" onclick="clicked(4);"></button></td>
        </tr>
      </table><br>
      <button id="next">Begin</button>
    </div>
  </body>
  <script>
    let ansArr = [0, 0, 0, 0, 0];
    let ansKey = [4, 2, 1, 3, 3];
    let currentQ = 0;
    let next = document.getElementById("next");
    let ans1 = document.getElementById("ans1");
    let ans2 = document.getElementById("ans2");
    let ans3 = document.getElementById("ans3");
    let ans4 = document.getElementById("ans4");
    let qstTitle = document.getElementById("qst");
    let ansTab = document.getElementById("ans");
    let questions = ["Q1: What percent of Americans make New Years Resolutions?", "Q2: In the Times Square, tons of ______ are dropped on the crowd.", "Q3: New Years is on January 1st. Which god is honored from that?", "Q4: How long do Americans tend to actually stick to their New Year resolutions?", "Q5: When did Pope Gregory XIII change the day of New Year to January 1st?"];
    let answers = [["20%", "50%", "94%", "45%"], ["Water", "Confetti", "Crackers", "Jokes"], ["Janus", "Zeus", "Morpheus", "Hebe"], ["6 days", "5 and a half months", "36 days", "The entire year"], ["160 AD", "83 BC", "1582", "1973"]];

    function setUp() {
      if (currentQ <= 5) {
        qstTitle.innerText = questions[currentQ - 1];
        ans1.innerText = answers[currentQ - 1][0];
        ans2.innerText = answers[currentQ - 1][1];
        ans3.innerText = answers[currentQ - 1][2];
        ans4.innerText = answers[currentQ - 1][3];
      } else {
        ansTab.style.display = "none";
        next.style.display = "none";
        let score = 0;
        for (var i = 0; i < 5; i++) {
          if (ansArr[i] == ansKey[i]) {
            ++score;
          }
        }
        qstTitle.innerHTML = "Congrats! You finished the New Years quiz! Your score is " + score + " out of 5 (" + (score * 100) / 5 + "%). <a href='ccquiz.html'>Re-take</a>";
      }
    }

    function resetColors() {
      ans1.style.borderColor = "black";
      ans1.style.color = "black";
      ans2.style.borderColor = "black";
      ans2.style.color = "black";
      ans3.style.borderColor = "black";
      ans3.style.color = "black";
      ans4.style.borderColor = "black";
      ans4.style.color = "black";
    }

    function clicked(choice) {
      resetColors();
      ansArr[currentQ - 1] = choice;
      if (choice == 1) {
        ans1.style.borderColor = "gold";
        ans1.style.color = "gold";
      } else if (choice == 2) {
        ans2.style.borderColor = "gold";
        ans2.style.color = "gold";
      } else if (choice == 3) {
        ans3.style.borderColor = "gold";
        ans3.style.color = "gold";
      } else {
        ans4.style.borderColor = "gold";
        ans4.style.color = "gold";
      }
    }

    next.onclick = function () {
      resetColors();
      if (currentQ == 0) {
        ++currentQ;
        ansTab.style.display = "inline-block";
        next.innerText = "Next";
        setUp();
      } else {
        ++currentQ;
        setUp();
      }
    }
  </script>
</html>
